<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<!-- MODAL PARA NUEVO GASTO -->
<div th:fragment="modalNuevoGasto" class="modal fade" id="modalNuevoGasto" tabindex="-1" aria-labelledby="modalNuevoGastoLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content border-0 shadow">
      <!-- HEADER DEL MODAL -->
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title fw-bold" id="modalNuevoGastoLabel">
          <i class="bi bi-plus-circle me-2"></i>
          Registrar Nuevo Gasto
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      
      <!-- BODY DEL MODAL -->
      <div class="modal-body p-4">
        <form id="formNuevoGasto" novalidate>
          <div class="row g-3">
            
            <!-- DESCRIPCI√ìN DEL GASTO -->
            <div class="col-12">
              <label for="descripcion" class="form-label fw-semibold">
                <i class="bi bi-card-text text-primary me-1"></i>
                Descripci√≥n del Gasto
              </label>
              <input type="text" class="form-control" id="descripcion" name="descripcion" 
                     placeholder="Ej: Compra en supermercado" required>
              <div class="invalid-feedback">
                Por favor, ingrese una descripci√≥n del gasto.
              </div>
            </div>

            <!-- MONTO -->
            <div class="col-md-6">
              <label for="monto" class="form-label fw-semibold">
                <i class="bi bi-cash-coin text-success me-1"></i>
                Monto
              </label>
              <div class="input-group">
                <span class="input-group-text bg-light">$</span>
                <input type="number" class="form-control" id="monto" name="monto" 
                       placeholder="0" step="1" min="1" required>
                <span class="input-group-text bg-light">CLP</span>
                <div class="invalid-feedback">
                  Ingrese un monto v√°lido mayor a 0.
                </div>
              </div>
            </div>

            <!-- FECHA -->
            <div class="col-md-6">
              <label for="fecha" class="form-label fw-semibold">
                <i class="bi bi-calendar-event text-info me-1"></i>
                Fecha del Gasto
              </label>
              <input type="date" class="form-control" id="fecha" name="fecha" required>
              <div class="invalid-feedback">
                Por favor, seleccione una fecha.
              </div>
            </div>

            <!-- CATEGOR√çA -->
            <div class="col-md-6">
              <label for="categoria" class="form-label fw-semibold">
                <i class="bi bi-tag text-warning me-1"></i>
                Categor√≠a
              </label>
              <select class="form-select" id="categoria" name="categoria" required>
                <option value="" selected disabled>Seleccione una categor√≠a</option>
                <option value="alimentacion">üçî Alimentaci√≥n</option>
                <option value="transporte">üöó Transporte</option>
                <option value="vivienda">üè† Vivienda</option>
                <option value="entretenimiento">üé¨ Entretenimiento</option>
                <option value="salud">üíä Salud</option>
                <option value="educacion">üìö Educaci√≥n</option>
                <option value="servicios">üí° Servicios</option>
                <option value="ropa">üëî Ropa y Calzado</option>
                <option value="otros">üì¶ Otros</option>
              </select>
              <div class="invalid-feedback">
                Por favor, seleccione una categor√≠a.
              </div>
            </div>

            <!-- M√âTODO DE PAGO -->
            <div class="col-md-6">
              <label for="metodoPago" class="form-label fw-semibold">
                <i class="bi bi-credit-card text-danger me-1"></i>
                M√©todo de Pago
              </label>
              <div class="dropdown">
                <button class="form-select text-start" type="button" id="dropdownMetodoPago" data-bs-toggle="dropdown" aria-expanded="false">
                  <span id="selectedMetodo" class="text-muted">Seleccione m√©todo de pago</span>
                </button>
                <ul class="dropdown-menu w-100" aria-labelledby="dropdownMetodoPago" style="max-height: 300px; overflow-y: auto;">
                  <li><a class="dropdown-item" href="#" data-value="efectivo">üíµ Efectivo</a></li>
                  <li><h6 class="dropdown-header">üí≥ Tarjeta de D√©bito</h6></li>
                  <li><a class="dropdown-item" href="#" data-value="debito-banco-chile">Banco de Chile</a></li>
                  <li><a class="dropdown-item" href="#" data-value="debito-santander">Santander</a></li>
                  <li><a class="dropdown-item" href="#" data-value="debito-bci">BCI</a></li>
                  <li><a class="dropdown-item" href="#" data-value="debito-estado">Banco Estado</a></li>
                  <li><a class="dropdown-item" href="#" data-value="debito-itau">Ita√∫</a></li>
                  <li><a class="dropdown-item" href="#" data-value="debito-scotiabank">Scotiabank</a></li>
                  <li><a class="dropdown-item" href="#" data-value="debito-security">Banco Security</a></li>
                  <li><a class="dropdown-item" href="#" data-value="debito-falabella">Banco Falabella</a></li>
                  <li><a class="dropdown-item" href="#" data-value="debito-ripley">Banco Ripley</a></li>
                  <li><a class="dropdown-item" href="#" data-value="debito-tenpo">Tenpo</a></li>
                  <li><a class="dropdown-item" href="#" data-value="debito-mach">MACH</a></li>
                  <li><a class="dropdown-item" href="#" data-value="debito-mercadopago">Mercado Pago</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><h6 class="dropdown-header">üí≥ Tarjeta de Cr√©dito</h6></li>
                  <li><a class="dropdown-item" href="#" data-value="credito-banco-chile">Banco de Chile</a></li>
                  <li><a class="dropdown-item" href="#" data-value="credito-santander">Santander</a></li>
                  <li><a class="dropdown-item" href="#" data-value="credito-bci">BCI</a></li>
                  <li><a class="dropdown-item" href="#" data-value="credito-estado">Banco Estado</a></li>
                  <li><a class="dropdown-item" href="#" data-value="credito-itau">Ita√∫</a></li>
                  <li><a class="dropdown-item" href="#" data-value="credito-scotiabank">Scotiabank</a></li>
                  <li><a class="dropdown-item" href="#" data-value="credito-security">Banco Security</a></li>
                  <li><a class="dropdown-item" href="#" data-value="credito-falabella">CMR Falabella</a></li>
                  <li><a class="dropdown-item" href="#" data-value="credito-ripley">Ripley</a></li>
                  <li><a class="dropdown-item" href="#" data-value="credito-paris">Cencosud (Paris)</a></li>
                  <li><a class="dropdown-item" href="#" data-value="credito-lider">L√≠der</a></li>
                  <li><a class="dropdown-item" href="#" data-value="credito-presto">Presto</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><h6 class="dropdown-header">üè¶ Transferencia Bancaria</h6></li>
                  <li><a class="dropdown-item" href="#" data-value="transferencia-banco-chile">Banco de Chile</a></li>
                  <li><a class="dropdown-item" href="#" data-value="transferencia-santander">Santander</a></li>
                  <li><a class="dropdown-item" href="#" data-value="transferencia-bci">BCI</a></li>
                  <li><a class="dropdown-item" href="#" data-value="transferencia-estado">Banco Estado</a></li>
                  <li><a class="dropdown-item" href="#" data-value="transferencia-itau">Ita√∫</a></li>
                  <li><a class="dropdown-item" href="#" data-value="transferencia-scotiabank">Scotiabank</a></li>
                  <li><a class="dropdown-item" href="#" data-value="transferencia-security">Banco Security</a></li>
                  <li><a class="dropdown-item" href="#" data-value="transferencia-falabella">Banco Falabella</a></li>
                  <li><a class="dropdown-item" href="#" data-value="transferencia-ripley">Banco Ripley</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#" data-value="otro">üì± Otro</a></li>
                </ul>
              </div>
              <input type="hidden" id="metodoPago" name="metodoPago" required>
              <div class="invalid-feedback">
                Por favor, seleccione un m√©todo de pago.
              </div>
            </div>

            <!-- N√öMERO DE CUOTAS (Solo para tarjeta de cr√©dito) -->
            <div class="col-md-6" id="divCuotas" style="display: none;">
              <label for="numeroCuotas" class="form-label fw-semibold">
                <i class="bi bi-123 text-primary me-1"></i>
                N√∫mero de Cuotas
              </label>
              <select class="form-select" id="numeroCuotas" name="numeroCuotas">
                <option value="1" selected>Sin cuotas (1 pago)</option>
                <option value="3">3 cuotas</option>
                <option value="6">6 cuotas</option>
                <option value="9">9 cuotas</option>
                <option value="12">12 cuotas</option>
                <option value="18">18 cuotas</option>
                <option value="24">24 cuotas</option>
                <option value="36">36 cuotas</option>
              </select>
              <small class="text-muted">El monto se dividir√° en cuotas mensuales</small>
            </div>

          </div>
        </form>
      </div>
      
      <!-- FOOTER DEL MODAL -->
      <div class="modal-footer bg-light">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          <i class="bi bi-x-circle me-1"></i>
          Cancelar
        </button>
        <button type="button" class="btn btn-primary" id="btnGuardarGasto">
          <i class="bi bi-save me-1"></i>
          Guardar Gasto
        </button>
      </div>
    </div>
  </div>
</div>

</html>
